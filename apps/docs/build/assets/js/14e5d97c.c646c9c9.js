"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[805],{4056(e,n,s){s.d(n,{R:()=>a,x:()=>c});var i=s(2155);const o={},r=i.createContext(o);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(r.Provider,{value:n},e.children)}},7080(e,n,s){s.r(n),s.d(n,{assets:()=>p,contentTitle:()=>c,default:()=>t,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"packages/overview","title":"Packages Overview","description":"The packages/ directory contains shared code that can be used across multiple apps in the monorepo.","source":"@site/docs/packages/overview.md","sourceDirName":"packages","slug":"/packages/overview","permalink":"/packages/overview","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Adding New Apps","permalink":"/apps/adding-apps"},"next":{"title":"UI Library (@monorepo-app/ui)","permalink":"/packages/ui-library"}}');var o=s(5723),r=s(4056);const a={sidebar_position:1},c="Packages Overview",p={},d=[{value:"Current Packages",id:"current-packages",level:2},{value:"Package vs App",id:"package-vs-app",level:2},{value:"How Packages Work in Turborepo",id:"how-packages-work-in-turborepo",level:2},{value:"Workspace Protocol",id:"workspace-protocol",level:3},{value:"Dependency Graph",id:"dependency-graph",level:3},{value:"Build Order",id:"build-order",level:3},{value:"Creating New Packages",id:"creating-new-packages",level:2},{value:"Package Types",id:"package-types",level:2},{value:"UI Components (<code>@monorepo-app/ui</code>)",id:"ui-components-monorepo-appui",level:3},{value:"Utilities (<code>@monorepo-app/utils</code>)",id:"utilities-monorepo-apputils",level:3},{value:"Configuration (<code>@monorepo-app/config</code>)",id:"configuration-monorepo-appconfig",level:3},{value:"Types (<code>@monorepo-app/types</code>)",id:"types-monorepo-apptypes",level:3},{value:"API Client (<code>@monorepo-app/api</code>)",id:"api-client-monorepo-appapi",level:3},{value:"Best Practices",id:"best-practices",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"packages-overview",children:"Packages Overview"})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"packages/"})," directory contains shared code that can be used across multiple apps in the monorepo."]}),"\n",(0,o.jsx)(n.h2,{id:"current-packages",children:"Current Packages"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Package"}),(0,o.jsx)(n.th,{children:"Description"}),(0,o.jsx)(n.th,{children:"Import"})]})}),(0,o.jsx)(n.tbody,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"/packages/ui-library",children:"@monorepo-app/ui"})}),(0,o.jsx)(n.td,{children:"Shared UI component library"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"@monorepo-app/ui"})})]})})]}),"\n",(0,o.jsx)(n.h2,{id:"package-vs-app",children:"Package vs App"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Packages"})," are shared libraries that:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Are not deployed independently"}),"\n",(0,o.jsx)(n.li,{children:"Export code for other packages/apps to consume"}),"\n",(0,o.jsxs)(n.li,{children:["Are listed in ",(0,o.jsx)(n.code,{children:"dependencies"})," of consuming apps"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Apps"})," are deployable applications that:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Run independently"}),"\n",(0,o.jsx)(n.li,{children:"Can depend on packages"}),"\n",(0,o.jsx)(n.li,{children:"Have their own build/start scripts"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"how-packages-work-in-turborepo",children:"How Packages Work in Turborepo"}),"\n",(0,o.jsx)(n.h3,{id:"workspace-protocol",children:"Workspace Protocol"}),"\n",(0,o.jsx)(n.p,{children:"Packages are linked using the workspace protocol:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "dependencies": {\n    "@monorepo-app/ui": "workspace:*"\n  }\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"workspace:*"})," syntax tells pnpm to link to the local package instead of downloading from npm."]}),"\n",(0,o.jsx)(n.h3,{id:"dependency-graph",children:"Dependency Graph"}),"\n",(0,o.jsxs)(n.p,{children:["When you run ",(0,o.jsx)(n.code,{children:"pnpm build"}),", Turborepo:"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Analyzes dependencies between packages and apps"}),"\n",(0,o.jsx)(n.li,{children:"Builds packages first (in dependency order)"}),"\n",(0,o.jsx)(n.li,{children:"Then builds apps that depend on those packages"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"packages/ui \u2192 apps/web\n           \u2192 apps/storybook\n           \u2192 apps/docs (if using @monorepo-app/ui)\n"})}),"\n",(0,o.jsx)(n.h3,{id:"build-order",children:"Build Order"}),"\n",(0,o.jsxs)(n.p,{children:["In ",(0,o.jsx)(n.code,{children:"turbo.json"}),", the ",(0,o.jsx)(n.code,{children:'dependsOn: ["^build"]'})," setting ensures packages are built before apps:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "tasks": {\n    "build": {\n      "dependsOn": ["^build"]\n    }\n  }\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"^"}),' prefix means "build dependencies first".']}),"\n",(0,o.jsx)(n.h2,{id:"creating-new-packages",children:"Creating New Packages"}),"\n",(0,o.jsxs)(n.p,{children:["See the ",(0,o.jsx)(n.a,{href:"/packages/adding-packages",children:"Adding Packages"})," guide for step-by-step instructions."]}),"\n",(0,o.jsx)(n.h2,{id:"package-types",children:"Package Types"}),"\n",(0,o.jsx)(n.p,{children:"Common package types in a monorepo:"}),"\n",(0,o.jsxs)(n.h3,{id:"ui-components-monorepo-appui",children:["UI Components (",(0,o.jsx)(n.code,{children:"@monorepo-app/ui"}),")"]}),"\n",(0,o.jsx)(n.p,{children:"Shared React components with styling."}),"\n",(0,o.jsxs)(n.h3,{id:"utilities-monorepo-apputils",children:["Utilities (",(0,o.jsx)(n.code,{children:"@monorepo-app/utils"}),")"]}),"\n",(0,o.jsx)(n.p,{children:"Shared helper functions."}),"\n",(0,o.jsxs)(n.h3,{id:"configuration-monorepo-appconfig",children:["Configuration (",(0,o.jsx)(n.code,{children:"@monorepo-app/config"}),")"]}),"\n",(0,o.jsx)(n.p,{children:"Shared configuration (ESLint, Tailwind, TypeScript)."}),"\n",(0,o.jsxs)(n.h3,{id:"types-monorepo-apptypes",children:["Types (",(0,o.jsx)(n.code,{children:"@monorepo-app/types"}),")"]}),"\n",(0,o.jsx)(n.p,{children:"Shared TypeScript type definitions."}),"\n",(0,o.jsxs)(n.h3,{id:"api-client-monorepo-appapi",children:["API Client (",(0,o.jsx)(n.code,{children:"@monorepo-app/api"}),")"]}),"\n",(0,o.jsx)(n.p,{children:"Shared API client code."}),"\n",(0,o.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Keep packages focused"}),": One concern per package"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Export explicitly"}),": Define what's public in ",(0,o.jsx)(n.code,{children:"index.ts"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Version consistently"}),": Use the same version for related packages"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Document exports"}),": Add JSDoc comments to exported functions"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Test packages"}),": Packages should have their own tests"]}),"\n"]})]})}function t(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);