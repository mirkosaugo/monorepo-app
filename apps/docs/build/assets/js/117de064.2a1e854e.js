"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[217],{4056(e,n,l){l.d(n,{R:()=>d,x:()=>a});var i=l(2155);const s={},r=i.createContext(s);function d(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(r.Provider,{value:n},e.children)}},8776(e,n,l){l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"guides/development-workflow","title":"Development Workflow","description":"This guide covers the recommended development workflow for working with this monorepo.","source":"@site/docs/guides/development-workflow.md","sourceDirName":"guides","slug":"/guides/development-workflow","permalink":"/guides/development-workflow","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"How Turborepo Works","permalink":"/guides/how-turborepo-works"},"next":{"title":"Renaming the Package Namespace","permalink":"/guides/renaming-namespace"}}');var s=l(5723),r=l(4056);const d={sidebar_position:2},a="Development Workflow",o={},c=[{value:"Daily Development",id:"daily-development",level:2},{value:"Starting Your Day",id:"starting-your-day",level:3},{value:"Working on a Feature",id:"working-on-a-feature",level:3},{value:"Component Development Workflow",id:"component-development-workflow",level:2},{value:"1. Create Component in UI Package",id:"1-create-component-in-ui-package",level:3},{value:"2. Export from Index",id:"2-export-from-index",level:3},{value:"3. Create Storybook Story",id:"3-create-storybook-story",level:3},{value:"4. Verify in Storybook",id:"4-verify-in-storybook",level:3},{value:"5. Use in App",id:"5-use-in-app",level:3},{value:"6. Verify in App",id:"6-verify-in-app",level:3},{value:"Hot Reloading",id:"hot-reloading",level:2},{value:"Testing Changes",id:"testing-changes",level:2},{value:"Before Committing",id:"before-committing",level:3},{value:"Verify Specific Apps",id:"verify-specific-apps",level:3},{value:"Git Workflow",id:"git-workflow",level:2},{value:"Branch Naming",id:"branch-naming",level:3},{value:"Commit Messages",id:"commit-messages",level:3},{value:"Pull Request Process",id:"pull-request-process",level:3},{value:"Debugging",id:"debugging",level:2},{value:"Check Build Output",id:"check-build-output",level:3},{value:"Clear Cache",id:"clear-cache",level:3},{value:"Check Dependency Graph",id:"check-dependency-graph",level:3},{value:"Adding Dependencies",id:"adding-dependencies",level:2},{value:"To a Specific Package",id:"to-a-specific-package",level:3},{value:"To Root (Dev Tools)",id:"to-root-dev-tools",level:3},{value:"Updating Dependencies",id:"updating-dependencies",level:3},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Local Development",id:"local-development",level:3},{value:"Sharing Across Apps",id:"sharing-across-apps",level:3},{value:"Performance Tips",id:"performance-tips",level:2},{value:"1. Run Only What You Need",id:"1-run-only-what-you-need",level:3},{value:"2. Use Cache",id:"2-use-cache",level:3},{value:"3. Parallel Development",id:"3-parallel-development",level:3},{value:"4. Incremental Builds",id:"4-incremental-builds",level:3},{value:"Common Tasks",id:"common-tasks",level:2},{value:"Add a New Page to Web App",id:"add-a-new-page-to-web-app",level:3},{value:"Add a New Component",id:"add-a-new-component",level:3},{value:"Add a New App",id:"add-a-new-app",level:3},{value:"Add a New Package",id:"add-a-new-package",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Import Errors",id:"import-errors",level:3},{value:"Styling Not Working",id:"styling-not-working",level:3},{value:"Build Failures",id:"build-failures",level:3},{value:"Type Errors",id:"type-errors",level:3}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"development-workflow",children:"Development Workflow"})}),"\n",(0,s.jsx)(n.p,{children:"This guide covers the recommended development workflow for working with this monorepo."}),"\n",(0,s.jsx)(n.h2,{id:"daily-development",children:"Daily Development"}),"\n",(0,s.jsx)(n.h3,{id:"starting-your-day",children:"Starting Your Day"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Pull latest changes\ngit pull\n\n# Install any new dependencies\npnpm install\n\n# Start development servers\npnpm dev\n"})}),"\n",(0,s.jsx)(n.h3,{id:"working-on-a-feature",children:"Working on a Feature"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Create a branch"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git checkout -b feature/my-feature\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Start relevant apps"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# If working on UI components\npnpm dev:storybook\n\n# If working on the web app\npnpm dev:web\n\n# If working on both\npnpm turbo dev --filter=web --filter=storybook\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Make changes and verify"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Components: Check in Storybook"}),"\n",(0,s.jsx)(n.li,{children:"App features: Check in the app"}),"\n",(0,s.jsx)(n.li,{children:"Styling: Check both places"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Commit your work"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'git add .\ngit commit -m "feat: add new feature"\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"component-development-workflow",children:"Component Development Workflow"}),"\n",(0,s.jsx)(n.h3,{id:"1-create-component-in-ui-package",children:"1. Create Component in UI Package"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'// packages/ui/src/components/ui/badge.tsx\nimport { cn } from "../../lib/utils";\n\nexport function Badge({ children, className }) {\n  return (\n    <span className={cn("badge-styles", className)}>\n      {children}\n    </span>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-export-from-index",children:"2. Export from Index"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'// packages/ui/src/index.ts\nexport { Badge } from "./components/ui/badge";\n'})}),"\n",(0,s.jsx)(n.h3,{id:"3-create-storybook-story",children:"3. Create Storybook Story"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'// apps/storybook/stories/Badge.stories.tsx\nimport { Badge } from "@monorepo-app/ui";\n\nexport default { title: "UI/Badge", component: Badge };\nexport const Default = { args: { children: "Badge" } };\n'})}),"\n",(0,s.jsx)(n.h3,{id:"4-verify-in-storybook",children:"4. Verify in Storybook"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm dev:storybook\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Open ",(0,s.jsx)(n.a,{href:"http://localhost:6006",children:"http://localhost:6006"})," and check the component."]}),"\n",(0,s.jsx)(n.h3,{id:"5-use-in-app",children:"5. Use in App"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'// apps/web/app/page.tsx\nimport { Badge } from "@monorepo-app/ui";\n\nexport default function Page() {\n  return <Badge>New</Badge>;\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"6-verify-in-app",children:"6. Verify in App"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm dev:web\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Open ",(0,s.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})," and check the app."]}),"\n",(0,s.jsx)(n.h2,{id:"hot-reloading",children:"Hot Reloading"}),"\n",(0,s.jsx)(n.p,{children:"Changes automatically reflect across the monorepo:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Edit a component"})," in ",(0,s.jsx)(n.code,{children:"packages/ui/"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Storybook"})," updates automatically"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Next.js app"})," updates automatically"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"No restart needed!"}),"\n",(0,s.jsx)(n.h2,{id:"testing-changes",children:"Testing Changes"}),"\n",(0,s.jsx)(n.h3,{id:"before-committing",children:"Before Committing"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Build everything to catch errors\npnpm build\n\n# Run linting (if configured)\npnpm lint\n"})}),"\n",(0,s.jsx)(n.h3,{id:"verify-specific-apps",children:"Verify Specific Apps"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Build only what you changed\npnpm turbo build --filter=web\npnpm turbo build --filter=storybook\n"})}),"\n",(0,s.jsx)(n.h2,{id:"git-workflow",children:"Git Workflow"}),"\n",(0,s.jsx)(n.h3,{id:"branch-naming",children:"Branch Naming"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"feature/add-button-variants\nfix/checkbox-disabled-state\ndocs/update-readme\nrefactor/simplify-card-component\n"})}),"\n",(0,s.jsx)(n.h3,{id:"commit-messages",children:"Commit Messages"}),"\n",(0,s.jsx)(n.p,{children:"Follow conventional commits:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"feat: add Badge component\nfix: correct checkbox disabled styling\ndocs: add installation guide\nrefactor: simplify Button variants\nchore: update dependencies\n"})}),"\n",(0,s.jsx)(n.h3,{id:"pull-request-process",children:"Pull Request Process"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Create PR"})," with descriptive title"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Build passes"}),": ",(0,s.jsx)(n.code,{children:"pnpm build"})," succeeds"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visual review"}),": Check Storybook if components changed"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Code review"}),": Get approval"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Merge"}),": Squash or rebase"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"debugging",children:"Debugging"}),"\n",(0,s.jsx)(n.h3,{id:"check-build-output",children:"Check Build Output"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Verbose build\npnpm turbo build --verbosity=2\n\n# Dry run to see what would build\npnpm turbo build --dry-run\n"})}),"\n",(0,s.jsx)(n.h3,{id:"clear-cache",children:"Clear Cache"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"rm -rf .turbo node_modules/.cache\npnpm install\npnpm build\n"})}),"\n",(0,s.jsx)(n.h3,{id:"check-dependency-graph",children:"Check Dependency Graph"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm turbo build --graph\n"})}),"\n",(0,s.jsx)(n.h2,{id:"adding-dependencies",children:"Adding Dependencies"}),"\n",(0,s.jsx)(n.h3,{id:"to-a-specific-package",children:"To a Specific Package"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Add to UI package\npnpm add lodash --filter=@monorepo-app/ui\n\n# Add dev dependency to web app\npnpm add -D @testing-library/react --filter=web\n"})}),"\n",(0,s.jsx)(n.h3,{id:"to-root-dev-tools",children:"To Root (Dev Tools)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm add -D prettier -w\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updating-dependencies",children:"Updating Dependencies"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Update all packages\npnpm update -r\n\n# Update specific package everywhere\npnpm update react -r\n"})}),"\n",(0,s.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,s.jsx)(n.h3,{id:"local-development",children:"Local Development"}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:".env.local"})," in each app:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# apps/web/.env.local\nDATABASE_URL=postgresql://localhost/mydb\nNEXT_PUBLIC_API_URL=http://localhost:3001\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sharing-across-apps",children:"Sharing Across Apps"}),"\n",(0,s.jsx)(n.p,{children:"For shared env vars, create at root and reference:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# .env\nSHARED_API_KEY=xxx\n"})}),"\n",(0,s.jsx)(n.h2,{id:"performance-tips",children:"Performance Tips"}),"\n",(0,s.jsx)(n.h3,{id:"1-run-only-what-you-need",children:"1. Run Only What You Need"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Bad: runs everything\npnpm dev\n\n# Good: runs only what you're working on\npnpm dev:web\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-use-cache",children:"2. Use Cache"}),"\n",(0,s.jsxs)(n.p,{children:["Don't run ",(0,s.jsx)(n.code,{children:"--force"})," unless necessary. Let Turborepo cache work."]}),"\n",(0,s.jsx)(n.h3,{id:"3-parallel-development",children:"3. Parallel Development"}),"\n",(0,s.jsx)(n.p,{children:"Open multiple terminals:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Terminal 1: ",(0,s.jsx)(n.code,{children:"pnpm dev:web"})]}),"\n",(0,s.jsxs)(n.li,{children:["Terminal 2: ",(0,s.jsx)(n.code,{children:"pnpm dev:storybook"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Both can run simultaneously on different ports."}),"\n",(0,s.jsx)(n.h3,{id:"4-incremental-builds",children:"4. Incremental Builds"}),"\n",(0,s.jsx)(n.p,{children:"After initial build, subsequent builds are much faster:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# First build: ~30 seconds\npnpm build\n\n# Second build (no changes): ~1 second (cached)\npnpm build\n\n# After small change: ~5 seconds (partial rebuild)\npnpm build\n"})}),"\n",(0,s.jsx)(n.h2,{id:"common-tasks",children:"Common Tasks"}),"\n",(0,s.jsx)(n.h3,{id:"add-a-new-page-to-web-app",children:"Add a New Page to Web App"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create file in ",(0,s.jsx)(n.code,{children:"apps/web/app/"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"// apps/web/app/about/page.tsx\nexport default function About() {\n  return <h1>About</h1>;\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Visit ",(0,s.jsx)(n.a,{href:"http://localhost:3000/about",children:"http://localhost:3000/about"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"add-a-new-component",children:"Add a New Component"}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/components/adding-components",children:"Adding Components"})]}),"\n",(0,s.jsx)(n.h3,{id:"add-a-new-app",children:"Add a New App"}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/apps/adding-apps",children:"Adding Apps"})]}),"\n",(0,s.jsx)(n.h3,{id:"add-a-new-package",children:"Add a New Package"}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/packages/adding-packages",children:"Adding Packages"})]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"import-errors",children:"Import Errors"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Check ",(0,s.jsx)(n.code,{children:"package.json"})," has the dependency"]}),"\n",(0,s.jsxs)(n.li,{children:["Run ",(0,s.jsx)(n.code,{children:"pnpm install"})]}),"\n",(0,s.jsxs)(n.li,{children:["Check ",(0,s.jsx)(n.code,{children:"tsconfig.json"})," paths"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"styling-not-working",children:"Styling Not Working"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Check Tailwind ",(0,s.jsx)(n.code,{children:"content"})," includes the package"]}),"\n",(0,s.jsx)(n.li,{children:"Verify CSS variables are defined"}),"\n",(0,s.jsxs)(n.li,{children:["Clear Next.js cache: ",(0,s.jsx)(n.code,{children:"rm -rf apps/web/.next"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"build-failures",children:"Build Failures"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Run ",(0,s.jsx)(n.code,{children:"pnpm turbo build --verbosity=2"})]}),"\n",(0,s.jsx)(n.li,{children:"Check the specific error"}),"\n",(0,s.jsx)(n.li,{children:"Fix in the failing package"}),"\n",(0,s.jsx)(n.li,{children:"Rebuild"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"type-errors",children:"Type Errors"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Check TypeScript version matches across packages"}),"\n",(0,s.jsxs)(n.li,{children:["Run ",(0,s.jsx)(n.code,{children:"pnpm turbo build --filter=@monorepo-app/ui"})," first"]}),"\n",(0,s.jsx)(n.li,{children:"Restart TypeScript server in IDE"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}}}]);