"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[892],{13(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"guides/renaming-namespace","title":"Renaming the Package Namespace","description":"This guide explains how to change the package namespace (e.g., from @monorepo-app to @your-company) across the entire monorepo.","source":"@site/docs/guides/renaming-namespace.md","sourceDirName":"guides","slug":"/guides/renaming-namespace","permalink":"/guides/renaming-namespace","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Development Workflow","permalink":"/guides/development-workflow"}}');var i=s(5723),o=s(4056);const r={sidebar_position:3},c="Renaming the Package Namespace",l={},d=[{value:"Why Rename?",id:"why-rename",level:2},{value:"Files to Update",id:"files-to-update",level:2},{value:"1. Package Definition",id:"1-package-definition",level:3},{value:"2. App Dependencies",id:"2-app-dependencies",level:3},{value:"3. TypeScript Path Aliases",id:"3-typescript-path-aliases",level:3},{value:"4. Storybook Vite Alias",id:"4-storybook-vite-alias",level:3},{value:"5. Import Statements",id:"5-import-statements",level:3},{value:"Quick Find &amp; Replace",id:"quick-find--replace",level:2},{value:"Using grep to find occurrences",id:"using-grep-to-find-occurrences",level:3},{value:"Using sed to replace (macOS)",id:"using-sed-to-replace-macos",level:3},{value:"Using sed to replace (Linux)",id:"using-sed-to-replace-linux",level:3},{value:"After Renaming",id:"after-renaming",level:2},{value:"Adding More Packages",id:"adding-more-packages",level:2},{value:"Common Issues",id:"common-issues",level:2},{value:"&quot;Module not found&quot; errors",id:"module-not-found-errors",level:3},{value:"Storybook not resolving imports",id:"storybook-not-resolving-imports",level:3},{value:"IDE not recognizing imports",id:"ide-not-recognizing-imports",level:3}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"renaming-the-package-namespace",children:"Renaming the Package Namespace"})}),"\n",(0,i.jsxs)(n.p,{children:["This guide explains how to change the package namespace (e.g., from ",(0,i.jsx)(n.code,{children:"@monorepo-app"})," to ",(0,i.jsx)(n.code,{children:"@your-company"}),") across the entire monorepo."]}),"\n",(0,i.jsx)(n.h2,{id:"why-rename",children:"Why Rename?"}),"\n",(0,i.jsx)(n.p,{children:"You might want to rename the namespace to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Match your company/organization name"}),"\n",(0,i.jsx)(n.li,{children:"Follow your team's naming conventions"}),"\n",(0,i.jsx)(n.li,{children:"Prepare for publishing to a private registry"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"files-to-update",children:"Files to Update"}),"\n",(0,i.jsxs)(n.p,{children:["When renaming from ",(0,i.jsx)(n.code,{children:"@monorepo-app"})," to your preferred namespace, you need to update these files:"]}),"\n",(0,i.jsx)(n.h3,{id:"1-package-definition",children:"1. Package Definition"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"packages/ui/package.json"})})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "name": "@your-namespace/ui",  // Change this\n  ...\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-app-dependencies",children:"2. App Dependencies"}),"\n",(0,i.jsx)(n.p,{children:"Update the dependency in each app that uses the UI package:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"apps/web/package.json"})})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "dependencies": {\n    "@your-namespace/ui": "workspace:*"  // Change this\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"apps/storybook/package.json"})})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "dependencies": {\n    "@your-namespace/ui": "workspace:*"  // Change this\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"3-typescript-path-aliases",children:"3. TypeScript Path Aliases"}),"\n",(0,i.jsxs)(n.p,{children:["Update path aliases in each app's ",(0,i.jsx)(n.code,{children:"tsconfig.json"}),":"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"apps/web/tsconfig.json"})})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "paths": {\n      "@your-namespace/ui": ["../../packages/ui/src"],\n      "@your-namespace/ui/*": ["../../packages/ui/src/*"]\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"apps/storybook/tsconfig.json"})})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "paths": {\n      "@your-namespace/ui": ["../../packages/ui/src"],\n      "@your-namespace/ui/*": ["../../packages/ui/src/*"]\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"4-storybook-vite-alias",children:"4. Storybook Vite Alias"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"apps/storybook/.storybook/main.ts"})})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'viteFinal: async (config) => {\n  return {\n    ...config,\n    resolve: {\n      ...config.resolve,\n      alias: {\n        ...config.resolve?.alias,\n        "@your-namespace/ui": join(__dirname, "../../../packages/ui/src"),\n      },\n    },\n  };\n},\n'})}),"\n",(0,i.jsx)(n.h3,{id:"5-import-statements",children:"5. Import Statements"}),"\n",(0,i.jsx)(n.p,{children:"Update all import statements in your source files:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'// Before\nimport { Button } from "@monorepo-app/ui";\n\n// After\nimport { Button } from "@your-namespace/ui";\n'})}),"\n",(0,i.jsx)(n.h2,{id:"quick-find--replace",children:"Quick Find & Replace"}),"\n",(0,i.jsx)(n.p,{children:"You can use these commands to find and replace across the codebase:"}),"\n",(0,i.jsx)(n.h3,{id:"using-grep-to-find-occurrences",children:"Using grep to find occurrences"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Find all files containing the old namespace\ngrep -r "@monorepo-app" --include="*.json" --include="*.ts" --include="*.tsx" -l\n'})}),"\n",(0,i.jsx)(n.h3,{id:"using-sed-to-replace-macos",children:"Using sed to replace (macOS)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Replace in package.json files\nfind . -name "package.json" -not -path "*/node_modules/*" -exec sed -i \'\' \'s/@monorepo-app/@your-namespace/g\' {} \\;\n\n# Replace in TypeScript files\nfind . -name "*.ts" -o -name "*.tsx" -not -path "*/node_modules/*" | xargs sed -i \'\' \'s/@monorepo-app/@your-namespace/g\'\n'})}),"\n",(0,i.jsx)(n.h3,{id:"using-sed-to-replace-linux",children:"Using sed to replace (Linux)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Replace in package.json files\nfind . -name "package.json" -not -path "*/node_modules/*" -exec sed -i \'s/@monorepo-app/@your-namespace/g\' {} \\;\n\n# Replace in TypeScript files\nfind . \\( -name "*.ts" -o -name "*.tsx" \\) -not -path "*/node_modules/*" -exec sed -i \'s/@monorepo-app/@your-namespace/g\' {} \\;\n'})}),"\n",(0,i.jsx)(n.h2,{id:"after-renaming",children:"After Renaming"}),"\n",(0,i.jsx)(n.p,{children:"After making the changes:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Delete node_modules and reinstall"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"rm -rf node_modules apps/*/node_modules packages/*/node_modules\npnpm install\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Clear Turborepo cache"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"rm -rf .turbo\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Verify the build"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm build\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Test development"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm dev\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"adding-more-packages",children:"Adding More Packages"}),"\n",(0,i.jsx)(n.p,{children:"When adding new packages, follow the same naming convention:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "name": "@your-namespace/utils",\n  "name": "@your-namespace/config",\n  "name": "@your-namespace/types"\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,i.jsx)(n.h3,{id:"module-not-found-errors",children:'"Module not found" errors'}),"\n",(0,i.jsx)(n.p,{children:"Make sure:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["The package name in ",(0,i.jsx)(n.code,{children:"package.json"})," matches exactly"]}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"tsconfig.json"})," paths use the correct namespace"]}),"\n",(0,i.jsxs)(n.li,{children:["You ran ",(0,i.jsx)(n.code,{children:"pnpm install"})," after changes"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"storybook-not-resolving-imports",children:"Storybook not resolving imports"}),"\n",(0,i.jsxs)(n.p,{children:["Check the alias in ",(0,i.jsx)(n.code,{children:".storybook/main.ts"})," matches your new namespace."]}),"\n",(0,i.jsx)(n.h3,{id:"ide-not-recognizing-imports",children:"IDE not recognizing imports"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Restart your TypeScript server"}),"\n",(0,i.jsxs)(n.li,{children:["In VS Code: ",(0,i.jsx)(n.code,{children:"Cmd/Ctrl + Shift + P"}),' \u2192 "TypeScript: Restart TS Server"']}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},4056(e,n,s){s.d(n,{R:()=>r,x:()=>c});var a=s(2155);const i={},o=a.createContext(i);function r(e){const n=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);