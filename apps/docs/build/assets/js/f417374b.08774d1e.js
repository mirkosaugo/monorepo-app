"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[421],{3792(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"apps/nextjs-web","title":"Next.js Web App","description":"The apps/web directory contains a Next.js 14 application demonstrating the use of @monorepo-app/ui components.","source":"@site/docs/apps/nextjs-web.md","sourceDirName":"apps","slug":"/apps/nextjs-web","permalink":"/apps/nextjs-web","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Apps Overview","permalink":"/apps/overview"},"next":{"title":"Storybook","permalink":"/apps/storybook"}}');var i=s(5723),o=s(4056);const r={sidebar_position:2},d="Next.js Web App",a={},l=[{value:"Overview",id:"overview",level:2},{value:"Directory Structure",id:"directory-structure",level:2},{value:"Key Configuration",id:"key-configuration",level:2},{value:"<code>next.config.js</code>",id:"nextconfigjs",level:3},{value:"<code>tailwind.config.ts</code>",id:"tailwindconfigts",level:3},{value:"<code>tsconfig.json</code>",id:"tsconfigjson",level:3},{value:"Using UI Components",id:"using-ui-components",level:2},{value:"The Todo App",id:"the-todo-app",level:2},{value:"Features",id:"features",level:3},{value:"Running the App",id:"running-the-app",level:2},{value:"Building",id:"building",level:2},{value:"Adding New Pages",id:"adding-new-pages",level:2},{value:"Adding API Routes",id:"adding-api-routes",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Deployment",id:"deployment",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"nextjs-web-app",children:"Next.js Web App"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"apps/web"})," directory contains a Next.js 14 application demonstrating the use of ",(0,i.jsx)(n.code,{children:"@monorepo-app/ui"})," components."]}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Framework"}),": Next.js 14 with App Router"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Port"}),": 3000"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Features"}),": Todo App with CRUD operations"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"directory-structure",children:"Directory Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"apps/web/\n\u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 layout.tsx          # Root layout with fonts and metadata\n\u2502   \u251c\u2500\u2500 page.tsx            # Home page (Todo App)\n\u2502   \u2514\u2500\u2500 globals.css         # Global styles with CSS variables\n\u251c\u2500\u2500 package.json            # Dependencies and scripts\n\u251c\u2500\u2500 next.config.js          # Next.js configuration\n\u251c\u2500\u2500 tailwind.config.ts      # Tailwind CSS configuration\n\u251c\u2500\u2500 postcss.config.js       # PostCSS configuration\n\u2514\u2500\u2500 tsconfig.json           # TypeScript configuration\n"})}),"\n",(0,i.jsx)(n.h2,{id:"key-configuration",children:"Key Configuration"}),"\n",(0,i.jsx)(n.h3,{id:"nextconfigjs",children:(0,i.jsx)(n.code,{children:"next.config.js"})}),"\n",(0,i.jsx)(n.p,{children:"The most important setting for monorepo compatibility:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  transpilePackages: [\"@monorepo-app/ui\"],\n};\n\nmodule.exports = nextConfig;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This tells Next.js to transpile the ",(0,i.jsx)(n.code,{children:"@monorepo-app/ui"})," package, which is necessary because it's written in TypeScript and not pre-compiled."]}),"\n",(0,i.jsx)(n.h3,{id:"tailwindconfigts",children:(0,i.jsx)(n.code,{children:"tailwind.config.ts"})}),"\n",(0,i.jsx)(n.p,{children:"Includes the UI package in the content paths:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'const config: Config = {\n  content: [\n    "./app/**/*.{ts,tsx}",\n    "./components/**/*.{ts,tsx}",\n    "../../packages/ui/src/**/*.{ts,tsx}",  // Important!\n  ],\n  // ... theme configuration\n};\n'})}),"\n",(0,i.jsx)(n.h3,{id:"tsconfigjson",children:(0,i.jsx)(n.code,{children:"tsconfig.json"})}),"\n",(0,i.jsx)(n.p,{children:"Path aliases for clean imports:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "paths": {\n      "@/*": ["./*"],\n      "@monorepo-app/ui": ["../../packages/ui/src"],\n      "@monorepo-app/ui/*": ["../../packages/ui/src/*"]\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"using-ui-components",children:"Using UI Components"}),"\n",(0,i.jsxs)(n.p,{children:["Import components directly from ",(0,i.jsx)(n.code,{children:"@monorepo-app/ui"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'import {\n  Button,\n  Input,\n  Card,\n  CardHeader,\n  CardTitle,\n  CardContent,\n  Checkbox,\n} from "@monorepo-app/ui";\n\nexport default function Home() {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>My App</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <Input placeholder="Enter text..." />\n        <Button>Submit</Button>\n      </CardContent>\n    </Card>\n  );\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"the-todo-app",children:"The Todo App"}),"\n",(0,i.jsxs)(n.p,{children:["The included Todo app (",(0,i.jsx)(n.code,{children:"app/page.tsx"}),") demonstrates:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"State Management"}),": Using React's ",(0,i.jsx)(n.code,{children:"useState"})," hook"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Component Composition"}),": Combining Card, Input, Button, Checkbox"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Event Handling"}),": Add, toggle, and delete todos"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Conditional Rendering"}),": Empty state message"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Styling"}),": Tailwind CSS with shadcn/ui theming"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"features",children:"Features"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Add new todos with input field"}),"\n",(0,i.jsx)(n.li,{children:"Toggle completion with checkbox"}),"\n",(0,i.jsx)(n.li,{children:"Delete todos with button"}),"\n",(0,i.jsx)(n.li,{children:"View remaining/completed count"}),"\n",(0,i.jsx)(n.li,{children:"Keyboard support (Enter to add)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"running-the-app",children:"Running the App"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Start development server\npnpm dev:web\n\n# Or from root\npnpm turbo dev --filter=web\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Open ",(0,i.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"building",children:"Building"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Build for production\npnpm turbo build --filter=web\n\n# Start production server\ncd apps/web && pnpm start\n"})}),"\n",(0,i.jsx)(n.h2,{id:"adding-new-pages",children:"Adding New Pages"}),"\n",(0,i.jsxs)(n.p,{children:["With the App Router, add new pages by creating files in the ",(0,i.jsx)(n.code,{children:"app/"})," directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"app/\n\u251c\u2500\u2500 page.tsx           # / (home)\n\u251c\u2500\u2500 about/\n\u2502   \u2514\u2500\u2500 page.tsx       # /about\n\u251c\u2500\u2500 dashboard/\n\u2502   \u251c\u2500\u2500 page.tsx       # /dashboard\n\u2502   \u2514\u2500\u2500 settings/\n\u2502       \u2514\u2500\u2500 page.tsx   # /dashboard/settings\n"})}),"\n",(0,i.jsx)(n.p,{children:"Example new page:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'// app/about/page.tsx\nimport { Card, CardHeader, CardTitle, CardContent } from "@monorepo-app/ui";\n\nexport default function AboutPage() {\n  return (\n    <main className="p-8">\n      <Card>\n        <CardHeader>\n          <CardTitle>About</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p>This is the about page.</p>\n        </CardContent>\n      </Card>\n    </main>\n  );\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"adding-api-routes",children:"Adding API Routes"}),"\n",(0,i.jsxs)(n.p,{children:["Create API routes in ",(0,i.jsx)(n.code,{children:"app/api/"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'// app/api/todos/route.ts\nimport { NextResponse } from "next/server";\n\nexport async function GET() {\n  return NextResponse.json({ todos: [] });\n}\n\nexport async function POST(request: Request) {\n  const body = await request.json();\n  return NextResponse.json({ todo: body });\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,i.jsxs)(n.p,{children:["Create ",(0,i.jsx)(n.code,{children:".env.local"})," for local development:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-env",children:"DATABASE_URL=postgresql://...\nNEXT_PUBLIC_API_URL=http://localhost:3001\n"})}),"\n",(0,i.jsx)(n.p,{children:"Access in code:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Server: ",(0,i.jsx)(n.code,{children:"process.env.DATABASE_URL"})]}),"\n",(0,i.jsxs)(n.li,{children:["Client: ",(0,i.jsx)(n.code,{children:"process.env.NEXT_PUBLIC_API_URL"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"deployment",children:"Deployment"}),"\n",(0,i.jsx)(n.p,{children:"The app can be deployed to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Vercel"})," (recommended for Next.js)"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Netlify"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Docker"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Any Node.js hosting"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For Vercel with monorepo:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'// vercel.json\n{\n  "buildCommand": "cd ../.. && pnpm turbo build --filter=web",\n  "outputDirectory": ".next"\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},4056(e,n,s){s.d(n,{R:()=>r,x:()=>d});var t=s(2155);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);